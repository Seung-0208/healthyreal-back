<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ict.teamProject.food.FoodMapper">	
<!-- SELECT fl.*,r.RECIPE_TITLE,r.RECIPE_URL,r.RECIPE_IMG FROM (SELECT FOODNAME,CATEGORY FROM FoodList WHERE foodname LIKE '%${foodname}%') fl JOIN RECIPE r ON fl.foodname = r.foodname -->
	<select id="findrecipe" resultType="Map">		
		SELECT fl.*,r.RECIPE_TITLE,r.RECIPE_URL,r.RECIPE_IMG,r.RECIPECODE,ri.INGREDIENT, ri.RI_AMOUNT FROM 
		    (SELECT FOODNAME,CATEGORY FROM FoodList WHERE foodname LIKE '%${foodname}%') fl 
		    JOIN RECIPE r ON fl.foodname = r.foodname
		    JOIN RECIPE_INGREDIENTS ri ON r.recipecode = ri.recipecode
	</select>	
	
	<!--  
	<select id="findcategory" resultType="FoodListDto">
		SELECT fl.*,r.RECIPE_TITLE,r.RECIPE_URL,r.RECIPE_IMG FROM (SELECT FOODNAME,CATEGORY FROM FoodList WHERE Category = #{Category}) fl JOIN RECIPE r ON fl.foodname = r.foodname
	</select>
	-->
</mapper>